
#include <conio.h>
#include <stdio.h>
#include <unistd.h>
#include<windows.h>

void goToState(void); 

// actions performed
enum states { IDLE, NEXT, SUCCESS, FAILED};
int currState = -1;

int main(void) {

	while(1) {
	printf("\033[2J");  
        printf("\033[1;1H"); 
        system("cls");
        printf("\nmachine\n");
        printf("\nAbdul Moiz\n");
	    printf("Terminate with Ctrl-C\n\n");
		goToState();
	}
	return 0;
}

void goToState(void) {
    int choice;
    currState++;
	switch(currState) {
		case IDLE:
				printf(" ____________________________________________\n");
            printf("|############################################|\n");
            printf("|#|                           |##############|\n");       
            printf("|#|    1      2222    33333   |##|````````|##|\n");        
            printf("|#|  1 1     2   2       33   |##|Welcome!|##|\n");
            printf("|#|    1       22     33333   |##|Choose a|##|\n");       
            printf("|#|    1      2          33   |##|Number. |##|\n");      
            printf("|#|  11111   22222    33333   |##|________|##|\n");        
            printf("|#|xxxxxxxxxxxxxxxxxxxxxxxxxxx|##############|\n");      
            printf("|#|===========================|##############|\n");        
            printf("|#|  4   4   55555      666   |##############|\n");
            printf("|#|  4   4   5         6      |#|`````````|##|\n");
            printf("|#|  44444   55555    66666   |#| _______ |##|\n");
            printf("|#|      4       5    6   6   |#| |1|2|3| |##|\n");
            printf("|#|      4   55555     666    |#| |4|5|6| |##|\n");
            printf("|#|xxxxxxxxxxxxxxxxxxxxxxxxxxx|#| |7|8|9| |##|\n");
            printf("|#|===========================|#| ``````` |##|\n");
            printf("|#|  77777   88888    99999   |#|[=======]|##|\n");
            printf("|#|     7    8   8    9   9   |#|  _   _  |##|\n");
            printf("|#|    7      888     99999   |#| ||| ( ) |##|\n");
            printf("|#|   7      8   8        9   |#| |||  `  |##|\n");
            printf("|#|  7       88888     9999   |#|  ~      |##|\n");
            printf("|#|xxxxxxxxxxxxxxxxxxxxxxxxxxx|#|_________|##|\n");
            printf("|#|---------------------------|##############|\n");
            printf("|############################################|\n");
            printf("|#|||||||||||||||||||||||||||||####```````###|\n");
            printf("|#||||||||||||PUSH|||||||||||||####/|||||/###|\n");
            printf("|############################################|\n");
            printf("/////////////////////////////////////////////\n");
            printf("|________________________________|VEND|___|\n");
            printf("Choice (0/1):");
            scanf("%d", &choice);
            if (choice != 1){
                currState = -1;
            }
           break;
			
		case NEXT: 
			printf(" _________________________________________________\n");
             printf("|############################################|\n");
            printf("|#|                           |##############|\n");       
            printf("|#|    1      2222    33333   |##|````````|##|\n");        
            printf("|#|  1 1     2   2       33   |##|  No.1  |##|\n");
            printf("|#|    1       22     33333   |##| Rp1000 |##|\n");       
            printf("|#|    1      2          33   |##|  NEXT  |##|\n");      
            printf("|#|  11111   22222    33333   |##|________|##|\n");        
            printf("|#|===========================|##############|\n");      
            printf("|#|```````````````````````````|##############|\n");        
            printf("|#|  4   4   55555      666   |##############|\n");
            printf("|#|  4   4   5         6      |#|`````````|##|\n");
            printf("|#|  44444   55555    66666   |#| _______ |##|\n");
            printf("|#|      4       5    6   6   |#| |1|2|3| |##|\n");
            printf("|#|      4   55555     666    |#| |4|5|6| |##|\n");
            printf("|#|===========================|#| |7|8|9| |##|\n");
            printf("|#|```````````````````````````|#| ``````` |##|\n");
            printf("|#|  77777   88888    99999   |#|[=======]|##|\n");
            printf("|#|     7    8   8    9   9   |#|  _   _  |##|\n");
            printf("|#|    7      888     99999   |#| ||| ( ) |##|\n");
            printf("|#|   7      8   8        9   |#| |||  `  |##|\n");
            printf("|#|  7       88888     9999   |#|  ~      |##|\n");
            printf("|#|===========================|#|_________|##|\n");
            printf("|#|```````````````````````````|##############|\n");
            printf("|############################################|\n");
            printf("|#|||||||||||||||||||||||||||||####```````###|\n");
            printf("|#||||||||||||PUSH|||||||||||||####/|||||/###|\n");
            printf("|############################################|\n");
            printf("/////////////////////////////////////////////\n");
            printf("|________________________________|VEND|___|\n");
            printf("Choice (0/1):");
            scanf("%d", &choice);
            if (choice != 1){
                currState = 2;
            };
			break;
			
		case SUCCESS: 
			printf(" _________________________________________________\n");
            printf("|############################################|\n");
            printf("|#|                           |##############|\n");       
            printf("|#|  XX XX    2222    33333   |##|````````|##|\n");        
            printf("|#|   X X    2   2       33   |##|        |##|\n");
            printf("|#|    X       22     33333   |##|PROCESS |##|\n");       
            printf("|#|   X X     2          33   |##|        |##|\n");      
            printf("|#|  XX XX   22222    33333   |##|________|##|\n");        
            printf("|#|===========================|##############|\n");      
            printf("|#|```````````````````````````|##############|\n");        
            printf("|#|  4   4   55555      666   |##############|\n");
            printf("|#|  4   4   5         6      |#|`````````|##|\n");
            printf("|#|  44444   55555    66666   |#| _______ |##|\n");
            printf("|#|      4       5    6   6   |#| |1|2|3| |##|\n");
            printf("|#|      4   55555     666    |#| |4|5|6| |##|\n");
            printf("|#|===========================|#| |7|8|9| |##|\n");
            printf("|#|```````````````````````````|#| ``````` |##|\n");
            printf("|#|  77777   88888    99999   |#|[=======]|##|\n");
            printf("|#|     7    8   8    9   9   |#|  _   _  |##|\n");
            printf("|#|    7      888     99999   |#| ||| ( ) |##|\n");
            printf("|#|   7      8   8        9   |#| |||  `  |##|\n");
            printf("|#|  7       88888     9999   |#|  ~      |##|\n");
            printf("|#|===========================|#|_________|##|\n");
            printf("|#|```````````````````````````|##############|\n");
            printf("|############################################|\n");
            printf("|#                             ####```````###|\n");
            printf("|#                             ####/|||||/###|\n");
            printf("|############################################|\n");
            printf("/////////////////////////////////////////////\n");
            printf("|________________________________|VEND|___|\n");
			printf("Choice (0/1):");
            scanf("%d", &choice);
            currState = -1;
            break;
        
        case FAILED:
			printf(" _________________________________________________\n");
            printf("|############################################|\n");
            printf("|#|                           |##############|\n");       
            printf("|#|    1      2222    33333   |##|````````|##|\n");        
            printf("|#|  1 1     2   2       33   |##|        |##|\n");
            printf("|#|    1       22     33333   |##| DENIED |##|\n");       
            printf("|#|    1      2          33   |##|        |##|\n");      
            printf("|#|  11111   22222    33333   |##|________|##|\n");        
            printf("|#|xxxxxxxxxxxxxxxxxxxxxxxxxxx|##############|\n");      
            printf("|#|===========================|##############|\n");        
            printf("|#|  4   4   55555      666   |##############|\n");
            printf("|#|  4   4   5         6      |#|`````````|##|\n");
            printf("|#|  44444   55555    66666   |#| _______ |##|\n");
            printf("|#|      4       5    6   6   |#| |1|2|3| |##|\n");
            printf("|#|      4   55555     666    |#| |4|5|6| |##|\n");
            printf("|#|xxxxxxxxxxxxxxxxxxxxxxxxxxx|#| |7|8|9| |##|\n");
            printf("|#|===========================|#| ``````` |##|\n");
            printf("|#|  77777   88888    99999   |#|[=======]|##|\n");
            printf("|#|     7    8   8    9   9   |#|  _   _  |##|\n");
            printf("|#|    7      888     99999   |#| ||| ( ) |##|\n");
            printf("|#|   7      8   8        9   |#| |||  `  |##|\n");
            printf("|#|  7       88888     9999   |#|  ~      |##|\n");
            printf("|#|xxxxxxxxxxxxxxxxxxxxxxxxxxx|#|_________|##|\n");
            printf("|#|===========================|##############|\n");
            printf("|############################################|\n");
            printf("|#|||||||||||||||||||||||||||||####```````###|\n");
            printf("|#||||||||||||PUSH|||||||||||||####/|||||/###|\n");
            printf("|############################################|\n");
            printf("/////////////////////////////////////////////\n");
            printf("|________________________________|VEND|_____|\n");
			   printf("Choice (0/1):");
            scanf("%d", &choice);
            currState = -1;
            break;
	}
	sleep(1); 
}